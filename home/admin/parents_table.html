<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>


  </head>
  <body onload="viewData()">

    <div class ="container" style="margin-top:35px;";>
      <h4>Parents Table</h4>
      <table id ="tabledit"class ="table table-bordered table-striped">
        <thead>

        </thead>
        <tbody>
          <tr>
            <th> id</th>
            <th>parents_id</th>
            <th>surname</th>
            <th>firstname</th>
            <th>nin</th>
            <th>phone</th>
            <th>gender</th>
            <th>maritalstatus</th>
            <th>occupation</th>
            <th>day</th>
            <th>month</th>
            <th>year</th>
            <th>location</th>
            <th>religion</th>
            <th>next_of_kin_surname</th>
            <th>next_of_kin_firstname</th>
            <th>relationship</th>
            <th>next_of_kin_telephone</th>
            <th>account_number</th>
            <th>bank</th>
            <th>branch</th>
            <th>cdc</th>
            <th>passport_photo</th>
            <th>status</th>
          </tr>
        </tbody>

      </table>

      </div>
    <script src="js/jquery.min.js"> </script>
    <script src="js/bootstrap.js">  </script>
    <script src="js/jquery.tabledit.js">  </script>
    <script>
      function viewData(){
          $.ajax({
             url: 'parents.php?p=view',
              method:'GET'
          }).done(function(data){
              $('tbody').html(data)
              tableData()
          })

      }
      function tableData(){
          
        $('#tabledit').Tabledit({
    url: 'parents.php',
    eventType: 'dblclick',
    editButton: true,
    deleteButton:true,
     hideIdentifier: true,
        buttons: {
            edit: {
                class: 'btn btn-sm btn-warning',
                html: '<span class="glyphicon glyphicon-pencil"></span>Edit',
                action: 'edit'
            },
            delete: {
                class: 'btn btn-sm btn-danger',
                html: '<span class="glyphicon glyphicon-trash"></span>Trash ',
                action: 'delete'
            },
            save: {
                class: 'btn btn-sm btn-success',
                html: 'Save'
            },
            restore: {
                class: 'btn btn-sm btn-warning',
                html: 'Restore',
                action: 'restore'
            },
            confirm: {
                class: 'btn btn-sm btn-default',
                html: 'Confirm'
            }
        }
            
            
    columns: {
        identifier: [0, 'id'],
        editable: [[1, 'parents_id'], [2, 'surname'],[3, 'email'],[3, 'firstname'],[4, 'nin'],[5, 'phone'],[6, 'gender'],[7, 'occupation'],[8, 'day'],
                   [9, 'month'],[10, 'year'],[11, 'location'],[12, 'religion'],[13, 'next_of_kin_surname'],[14, 'next_of_kin_firstname'],[15, 'relationship'],[16, 'next_of_kin_telephone'],[17, 'account_number'],
                   [18, 'bank'],[19, 'branch'],[20, 'cdc'],[21, 'passport_photo'],[22, 'status']]
    },
    onDraw: function() {
       
    onSuccess: function(data, textStatus, jqXHR) {
        viewData() 
    },
    onFail: function(jqXHR, textStatus, errorThrown) {
        console.log('onFail(jqXHR, textStatus, errorThrown)');
        console.log(jqXHR);
        console.log(textStatus);
        console.log(errorThrown);
    },
    onAlways: function() {
        console.log('onAlways()');
    },
    onAjax: function(action, serialize) {
        console.log('onAjax(action, serialize)');
        console.log(action);
        console.log(serialize);
    }
});
        
      }
    </script>

  </body>
</html>
